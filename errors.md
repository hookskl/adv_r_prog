Error Handling and Generation
================

## What is an Error?

Errors can occur when code is used in a way that is unintended. For
example, `"hello" + "world"` will issue an error message:
`Error in "hello" + "world": non-numeric argument to binary operator`.

Beyond errors, R has warnings and messages. Warnings are meant to
indicate that something seems to have gone wrong in your program and
should be inspected.

``` r
as.numeric(c("5", "6", "seven"))
```

    ## Warning: NAs introduced by coercion

    ## [1]  5  6 NA

Since `as.numeric()` was unable to convert `"seven"` to a number, it
coerced the string to `NA` instead and notified the user.

Messages are simply print to the R console, though they are generated by
an underlying mechanism similar to how errors and warnings are
generated.

``` r
f <- function() {
        message("This is a message")
}
f()
```

    ## This is a message

## Generating Errors

One function to generate an error is `stop()`.

``` r
stop("Something erroneous has occured!")
```

When called inside of a function, `stop()` will include the function
name of where the error occurred.

    name_of_function <- function(){
      stop("Something bad happened.")
    }

    name_of_function()
    Error in name_of_function(): Something bad happened.

Another function for generating errors is `stopifnot()`. This function
takes a series of logical expressions as arguments and if any of them
are false an error is generated. The error message includes the
expression that evaluated to false.

    error_if_n_is_greater_than_zero <- function(n){
      stopifnot(n <= 0)
      n
    }

    error_if_n_is_greater_than_zero(5)
    Error: n <= 0 is not TRUE

The `warning()` function creates a warning message, but if inside a
function will not cause that function to stop running.

``` r
make_NA <- function(x){
  warning("Generating an NA.")
  NA
}

make_NA("Sodium")
```

    ## Warning in make_NA("Sodium"): Generating an NA.

    ## [1] NA

## When to Generate Errors or Warnings

Stopping a program from executing should only occur if the error
generated will lead to the program being unable to continue. If such
conditions can be anticipated, they should be documented so program
users will be aware. Common failure conditions, such as providing
invalid arguments to a function, should be checked at the very beginning
of the program so the user can be notified quickly of what has gone
wrong. In the case of input checking, `stopifnot()` is a typically used.

A warning should be used if the output generated deviates from what will
be expected by the user. In the earlier example we saw
`as.numeric(c("5", "6", "seven"))` issue a warning that `NA`s where
introduced by coercion. Here the user provided what they may think is
the correct input, a character string representing a number, so just
returning the result might be confusing to them.

## How Should Errors be Handled?
